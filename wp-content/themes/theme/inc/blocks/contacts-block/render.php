<?php
$classes = isset($block['className']) ? $block['className'] : '';
$align = (isset($block['align']) && !empty($block['align'])) ? 'align' . $block['align'] : '';

$addresses = theme('addresses');
$phones = theme('phones');
$emails = theme('emails');
$additional = theme('additional');

$singleAddress = get_field('singleAddress');
$singlePhone = get_field('singlePhone');
$singleEmail = get_field('singleEmail');
?>
<div id="contacts-block" class="<?= $classes; ?> <?= $align; ?>">

    <div class="container">
        <div class="block__contacts">
            <?php if ($addresses) { ?>
                <?php switch ($singleAddress) {
                    case false: ?>
                        <div class="addresses">
                            <?php foreach ($addresses as $address) { ?>
                                <div class="contacts">
                                    <div class="contacts__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                             viewBox="0 0 24 24"
                                             fill="none">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                  d="M7.25003 10C7.25003 7.37665 9.37667 5.25 12 5.25C14.6234 5.25 16.75 7.37665 16.75 10C16.75 12.6234 14.6234 14.75 12 14.75C9.37667 14.75 7.25003 12.6234 7.25003 10ZM12 6.75C10.2051 6.75 8.75003 8.20507 8.75003 10C8.75003 11.7949 10.2051 13.25 12 13.25C13.795 13.25 15.25 11.7949 15.25 10C15.25 8.20507 13.795 6.75 12 6.75Z"
                                                  fill="white"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                  d="M3.52439 8.85685C3.87872 4.55824 7.47087 1.25 11.7841 1.25H12.216C16.5292 1.25 20.1213 4.55824 20.4757 8.85685C20.666 11.166 19.9527 13.4589 18.4861 15.2526L13.693 21.1144C12.818 22.1845 11.1821 22.1845 10.307 21.1144L5.51399 15.2526C4.04733 13.4589 3.33405 11.166 3.52439 8.85685ZM11.7841 2.75C8.25152 2.75 5.30952 5.45948 5.01932 8.98008C4.8609 10.9019 5.45455 12.8102 6.67521 14.3031L11.4683 20.1649C11.7431 20.501 12.2569 20.501 12.5318 20.1649L17.3248 14.3031C18.5455 12.8102 19.1391 10.9019 18.9807 8.98008C18.6905 5.45948 15.7485 2.75 12.216 2.75H11.7841Z"
                                                  fill="white"/>
                                        </svg>
                                    </div>

                                    <div class="contacts-wrapper">
                                        <div class="contacts__title">
                                            <?= $address['name']; ?>
                                        </div>

                                        <div class="contacts__items">
                                            <div class="contacts__item">
                                                <?= $address['value']; ?>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <?php } ?>
                        </div>
                        <?php break;
                    case true:
                        ?>
                        <div class="contacts">
                            <div class="contacts__icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                          d="M7.25003 10C7.25003 7.37665 9.37667 5.25 12 5.25C14.6234 5.25 16.75 7.37665 16.75 10C16.75 12.6234 14.6234 14.75 12 14.75C9.37667 14.75 7.25003 12.6234 7.25003 10ZM12 6.75C10.2051 6.75 8.75003 8.20507 8.75003 10C8.75003 11.7949 10.2051 13.25 12 13.25C13.795 13.25 15.25 11.7949 15.25 10C15.25 8.20507 13.795 6.75 12 6.75Z"
                                          fill="white"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                          d="M3.52439 8.85685C3.87872 4.55824 7.47087 1.25 11.7841 1.25H12.216C16.5292 1.25 20.1213 4.55824 20.4757 8.85685C20.666 11.166 19.9527 13.4589 18.4861 15.2526L13.693 21.1144C12.818 22.1845 11.1821 22.1845 10.307 21.1144L5.51399 15.2526C4.04733 13.4589 3.33405 11.166 3.52439 8.85685ZM11.7841 2.75C8.25152 2.75 5.30952 5.45948 5.01932 8.98008C4.8609 10.9019 5.45455 12.8102 6.67521 14.3031L11.4683 20.1649C11.7431 20.501 12.2569 20.501 12.5318 20.1649L17.3248 14.3031C18.5455 12.8102 19.1391 10.9019 18.9807 8.98008C18.6905 5.45948 15.7485 2.75 12.216 2.75H11.7841Z"
                                          fill="white"/>
                                </svg>
                            </div>

                            <div class="contacts-wrapper">
                                <div class="contacts__title">
                                    <?= $addresses[0]['name']; ?>
                                </div>

                                <div class="contacts__items">
                                    <div class="contacts__item">
                                        <?= $addresses[0]['value']; ?>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <?php break;
                    default:
                        break;
                }
                ?>
            <?php } ?>

            <?php if ($phones) { ?>
                <div class="contacts">
                    <div class="contacts__icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M5.84023 9.85641C7.62754 13.7483 10.808 16.8425 14.7618 18.5191L14.7743 18.5244L15.5381 18.8648C16.5107 19.2982 17.6539 18.9904 18.2776 18.1273L19.5519 16.3636C19.6298 16.2558 19.6097 16.106 19.5063 16.0226L17.2815 14.2278C17.1709 14.1385 17.0083 14.1593 16.9237 14.2735L16.0578 15.4419C15.8475 15.7256 15.4678 15.8242 15.146 15.6786C12.1896 14.3407 9.81391 11.965 8.47598 9.00857C8.33037 8.68681 8.42896 8.30705 8.71272 8.09677L9.88109 7.23091C9.99526 7.14631 10.016 6.98368 9.92682 6.87308L8.13178 4.64804C8.04835 4.54462 7.8986 4.52454 7.79087 4.60231L6.01758 5.88247C5.14879 6.50966 4.84283 7.6625 5.28629 8.63795L5.83963 9.85511C5.83983 9.85555 5.84003 9.85598 5.84023 9.85641ZM14.1699 19.8974C9.87386 18.0738 6.4185 14.7108 4.47645 10.481L4.47528 10.4785L3.92078 9.25874C3.18168 7.63299 3.69161 5.71158 5.13959 4.66627L6.91288 3.38611C7.667 2.8417 8.71523 2.98231 9.29923 3.7062L11.0943 5.93125C11.7188 6.70542 11.5734 7.84381 10.7742 8.43605L10.1047 8.93221C11.2356 11.1266 13.028 12.919 15.2224 14.0499L15.7185 13.3804C16.3108 12.5812 17.4492 12.4358 18.2234 13.0603L20.4481 14.8551C21.1722 15.4393 21.3126 16.4879 20.7678 17.242L19.4934 19.0058C18.454 20.4443 16.5487 20.9572 14.9276 20.235L14.1699 19.8974Z"
                                  fill="white"/>
                        </svg>
                    </div>

                    <div class="contacts-wrapper">
                        <div class="contacts__title">
                            Телефон
                        </div>

                        <div class="contacts__items">
                            <?php switch ($singlePhone) {
                                case false: ?>
                                    <?php foreach ($phones as $phone) { ?>
                                        <a href="tel:<?= $phone['value']; ?>" class="contacts__item">
                                            <?= $phone['value']; ?>
                                        </a>
                                    <?php } ?>
                                    <?php break;

                                case true:
                                    ?>
                                    <a href="tel:<?= $phones[0]['value']; ?>" class="contacts__item">
                                        <?= $phones[0]['value']; ?>
                                    </a>
                                    <?php break;

                                default:
                                    break;
                            } ?>

                        </div>
                    </div>
                </div>
            <?php } ?>

            <?php if ($emails) { ?>
                <div class="contacts">
                    <div class="contacts__icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M2.80379 8.35342C2.52364 10.9563 2.53613 13.9583 2.92595 16.5506C3.14165 17.985 4.31232 19.0847 5.75739 19.2103L7.26762 19.3416C10.4167 19.6153 13.5835 19.6153 16.7326 19.3416L18.2428 19.2103C19.6879 19.0847 20.8585 17.985 21.0742 16.5506C21.4641 13.9583 21.4766 10.9565 21.1964 8.35357C21.1602 8.05181 21.1195 7.75046 21.0742 7.44961C20.8585 6.01522 19.6879 4.91557 18.2428 4.78996L16.7326 4.65867C13.5835 4.38493 10.4167 4.38493 7.26762 4.65867L5.75739 4.78996C4.31232 4.91557 3.14165 6.01522 2.92595 7.44961C2.88072 7.75041 2.84 8.05171 2.80379 8.35342ZM7.39752 6.15304C10.4601 5.88681 13.5401 5.88681 16.6027 6.15304L18.1129 6.28432C18.8672 6.34989 19.4783 6.92391 19.5909 7.67267C19.6026 7.75042 19.614 7.82822 19.6251 7.90604L14.064 10.9955C12.7805 11.7086 11.2197 11.7086 9.93608 10.9955L4.37514 7.90608C4.3862 7.82824 4.39758 7.75043 4.40928 7.67267C4.52187 6.92391 5.13296 6.34989 5.88729 6.28432L7.39752 6.15304ZM19.8086 9.52001C20.0026 11.7878 19.93 14.0726 19.5909 16.3276C19.4783 17.0763 18.8672 17.6503 18.1129 17.7159L16.6027 17.8472C13.5401 18.1134 10.4601 18.1134 7.39753 17.8472L5.88729 17.7159C5.13296 17.6503 4.52187 17.0763 4.40928 16.3276C4.07019 14.0726 3.99763 11.7878 4.19159 9.52005L9.20762 12.3067C10.9442 13.2715 13.0559 13.2715 14.7925 12.3067L19.8086 9.52001Z"
                                  fill="white"/>
                        </svg>
                    </div>

                    <div class="contacts-wrapper">
                        <div class="contacts__title">
                            E-mail
                        </div>

                        <div class="contacts__items">
                            <?php switch ($singleEmail) {
                                case false: ?>
                                    <?php foreach ($emails as $email) { ?>
                                        <a href="mailto:<?= $email['value']; ?>" class="contacts__item">
                                            <?= $email['value']; ?>
                                        </a>
                                    <?php } ?>
                                    <?php break;

                                case true: ?>
                                    <a href="mailto:<?= $emails[0]['value']; ?>" class="contacts__item">
                                        <?= $emails[0]['value']; ?>
                                    </a>
                                    <?php break;

                                default:

                                    break;
                            } ?>

                        </div>
                    </div>
                </div>
            <?php } ?>

            <?php if ($additional) { ?>
                <div class="contacts">
                    <div class="contacts__icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M6.86461 6.88236C8.17813 5.56432 9.99326 4.75 12 4.75C16.0041 4.75 19.25 7.99594 19.25 12C19.25 16.0041 16.0041 19.25 12 19.25C7.99594 19.25 4.75 16.0041 4.75 12C4.75 11.5858 4.41421 11.25 4 11.25C3.58579 11.25 3.25 11.5858 3.25 12C3.25 16.8325 7.16751 20.75 12 20.75C16.8325 20.75 20.75 16.8325 20.75 12C20.75 7.16751 16.8325 3.25 12 3.25C9.57851 3.25 7.38558 4.23462 5.80213 5.82352C5.77668 5.84906 5.75345 5.87597 5.73245 5.90401L4.47488 4.64645C4.33769 4.50926 4.13353 4.46382 3.95111 4.52986C3.76869 4.59591 3.64094 4.76152 3.62338 4.95473L3.26982 8.84382C3.25639 8.9916 3.30929 9.13771 3.41422 9.24264C3.51914 9.34757 3.66526 9.40047 3.81304 9.38703L7.70213 9.03348C7.89534 9.01591 8.06095 8.88817 8.12699 8.70575C8.19304 8.52332 8.1476 8.31916 8.01041 8.18198L6.7823 6.95386C6.81101 6.93235 6.83854 6.90852 6.86461 6.88236Z"
                                  fill="white"/>
                            <path d="M12.75 7C12.75 6.58579 12.4142 6.25 12 6.25C11.5858 6.25 11.25 6.58579 11.25 7V12C11.25 12.2586 11.3832 12.4989 11.6025 12.636L14.6025 14.511C14.9538 14.7305 15.4165 14.6238 15.636 14.2725C15.8555 13.9212 15.7488 13.4585 15.3975 13.239L12.75 11.5843V7Z"
                                  fill="white"/>
                        </svg>
                    </div>

                    <div class="contacts-wrapper">
                        <div class="contacts__title">
                            Режим работы
                        </div>

                        <div class="contacts__items">
                            <?php foreach ($additional as $item) { ?>
                                <div class="contacts__item">
                                    <?= $item['value']; ?>
                                </div>
                            <?php } ?>
                        </div>
                    </div>
                </div>
            <?php } ?>
        </div>
    </div>

    <?= render_map(); ?>
</div>